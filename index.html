
<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <meta name="google-site-verification" content="gExcTnKyChvrBUc7aDzh1pzZzHQzU2RoYvN7WM3UQiw" />
    <meta name="Description" CONTENT="A cheat sheet for scientific python. The cheat sheet focuses on the scientific/data Python tools, e.g. matplotlib, NumPy/SciPy or pandas.">
    <title>Scientific python cheat sheet by IPGP</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.5">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
      <style type="text/css">code{white-space: pre;}</style>
  <style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; background-color: #dddddd; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #a71d5d } /* Keyword */
code > span.dt { color: #800000; } /* DataType */
code > span.dv { color: #009999; } /* DecVal */
code > span.bn { color: #009999; } /* BaseN */
code > span.fl { color: #009999; } /* Float */
code > span.ch { color: #009999 ; } /* Char */
code > span.st { color: #d01040; } /* String */
code > span.co { color: #969896 } /* Comment */
code > span.al { color: #00ff00; font-weight: bold; } /* Alert */
code > span.fu { color: #000080; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #ff0000; font-weight: bold; } /* Warning */
code > span.cn { color: #0086b3; } /* Constant */
code > span.sc { color: #ff00ff; } /* SpecialChar */
code > span.vs { color: #dd0000; } /* VerbatimString */
code > span.ss { color: #dd0000; } /* SpecialString */
code > span.im {color: #000080; } /* Import */
code > span.va {color: #000080; } /* Variable */
code > span.cf {color: #000080; } /* ControlFlow */
code > span.op {color: #000080; } /* Operator */
code > span.bu {color: #0086B3; } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { font-weight: bold; } /* Preprocessor */
code > span.at { } /* Attribute */
code > span.do { color: #808080; font-style: italic; } /* Documentation */
code > span.an { color: #808080; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #808080; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #808080; font-weight: bold; font-style: italic; } /* Information */
  </style>
  </head>
  <body>
    <a href="https://github.com/IPGP/scientific_python_cheat_sheet"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/a6677b08c955af8400f44c6298f40e7d19cc5b2d/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f677261795f3664366436642e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png"></a>
  
    <section class="main-content">


<h1 id="scientific-python-cheatsheet">Scientific Python Cheatsheet</h1>
<div class="group">
<ul>
<li><a href="#scientific-python-cheatsheet">Scientific Python Cheatsheet</a>
<ul>
<li><a href="#pure-python">Pure Python</a>
<ul>
<li><a href="#types">Types</a></li>
<li><a href="#lists">Lists</a></li>
<li><a href="#dictionaries">Dictionaries</a></li>
<li><a href="#sets">Sets</a></li>
<li><a href="#strings">Strings</a></li>
<li><a href="#operators">Operators</a></li>
<li><a href="#control-flow">Control Flow</a></li>
<li><a href="#functions-classes-generators-decorators">Functions, Classes, Generators, Decorators</a></li>
</ul></li>
<li><a href="#ipython">IPython</a>
<ul>
<li><a href="#console">console</a></li>
<li><a href="#debugger">debugger</a></li>
<li><a href="#command-line">command line</a></li>
</ul></li>
<li><a href="#numpy-import-numpy-as-np">NumPy</a>
<ul>
<li><a href="#array-initialization">array initialization</a></li>
<li><a href="#indexing">indexing</a></li>
<li><a href="#array-properties-and-operations">array properties and operations</a></li>
<li><a href="#boolean-arrays">boolean arrays</a></li>
<li><a href="#elementwise-operations-and-math-functions">elementwise operations and math functions</a></li>
<li><a href="#inner-outer-products">inner/ outer products</a></li>
<li><a href="#linear-algebra-matrix-math">linear algebra/ matrix math</a></li>
<li><a href="#reading-writing-files">reading/ writing files</a></li>
<li><a href="#interpolation-integration-optimization">interpolation, integration, optimization</a></li>
<li><a href="#fft">fft</a></li>
<li><a href="#rounding">rounding</a></li>
<li><a href="#random-variables">random variables</a></li>
</ul></li>
<li><a href="#matplotlib-import-matplotlib.pyplot-as-plt">Matplotlib</a>
<ul>
<li><a href="#figures-and-axes">figures and axes</a></li>
<li><a href="#figures-and-axes-properties">figures and axes properties</a></li>
<li><a href="#plotting-routines">plotting routines</a></li>
</ul></li>
<li><a href="#scipy-import-scipy-as-sci">Scipy</a>
<ul>
<li><a href="#interpolation">interpolation</a></li>
<li><a href="#linear-algebra">linear algebra</a></li>
<li><a href="#integration">integration</a></li>
</ul></li>
<li><a href="#pandas-import-pandas-as-pd">Pandas</a>
<ul>
<li><a href="#data-structures">data structures</a></li>
<li><a href="#dataframe">DataFrame</a></li>
</ul></li>
</ul></li>
</ul>
</div>

<h2 id="pure-python">Pure Python</h2>
<div class="group">
<div class="subgroup">
<h3 id="types">Types</h3>
<pre class="sourceCode python"><code class="sourceCode python">a = <span class="dv">2</span>           <span class="co"># integer</span>
b = <span class="fl">5.0</span>         <span class="co"># float</span>
c = <span class="fl">8.3e5</span>       <span class="co"># exponential</span>
d = <span class="fl">1.5</span> +<span class="ot"> 0.5j</span>  <span class="co"># complex</span>
e = <span class="dv">4</span> &gt; <span class="dv">5</span>       <span class="co"># boolean</span>
f = <span class="st">'word'</span>      <span class="co"># string</span></code></pre>
</div>
<div class="subgroup">
<h3 id="lists">Lists</h3>
<pre class="sourceCode python"><code class="sourceCode python">a = [<span class="st">'red'</span>, <span class="st">'blue'</span>, <span class="st">'green'</span>]       <span class="co"># manually initialization</span>
b = <span class="dt">list</span>(<span class="dt">range</span>(<span class="dv">5</span>))                 <span class="co"># initialize from iteratable</span>
c = [nu**<span class="dv">2</span> <span class="kw">for</span> nu in b]            <span class="co"># list comprehension</span>
d = [nu**<span class="dv">2</span> <span class="kw">for</span> nu in b <span class="kw">if</span> nu &lt; <span class="dv">3</span>]  <span class="co"># conditioned list comprehension</span>
e = c[<span class="dv">0</span>]                           <span class="co"># access element</span>
f = c[<span class="dv">1</span>:<span class="dv">2</span>]                         <span class="co"># access a slice of the list</span>
g = c[-<span class="dv">1</span>]                          <span class="co"># access last element</span>
h = [<span class="st">'re'</span>, <span class="st">'bl'</span>] + [<span class="st">'gr'</span>]          <span class="co"># list concatenation</span>
i = [<span class="st">'re'</span>] * <span class="dv">5</span>                     <span class="co"># repeat a list</span>
[<span class="st">'re'</span>, <span class="st">'bl'</span>].index(<span class="st">'re'</span>)           <span class="co"># returns index of 're'</span>
a.append(<span class="st">'yellow'</span>)                 <span class="co"># add new element to end of list</span>
a.extend(b)                        <span class="co"># add elements from list `b` to end of list `a`</span>
a.insert(<span class="dv">1</span>, <span class="st">'yellow'</span>)              <span class="co"># insert element in specified position</span>
<span class="st">'re'</span> in [<span class="st">'re'</span>, <span class="st">'bl'</span>]               <span class="co"># true if 're' in list</span>
<span class="st">'fi'</span> not in [<span class="st">'re'</span>, <span class="st">'bl'</span>]           <span class="co"># true if 'fi' not in list</span>
<span class="dt">sorted</span>([<span class="dv">3</span>, <span class="dv">2</span>, <span class="dv">1</span>])                  <span class="co"># returns sorted list</span>
a.pop(<span class="dv">2</span>)                           <span class="co"># remove and return item at index (default last)</span></code></pre>
</div>
<div class="subgroup">
<h3 id="dictionaries">Dictionaries</h3>
<pre class="sourceCode python"><code class="sourceCode python">a = {<span class="st">'red'</span>: <span class="st">'rouge'</span>, <span class="st">'blue'</span>: <span class="st">'bleu'</span>}         <span class="co"># dictionary</span>
b = a[<span class="st">'red'</span>]                                 <span class="co"># translate item</span>
<span class="st">'red'</span> in a                                   <span class="co"># true if dictionary a contains key 'red'</span>
c = [value <span class="kw">for</span> key, value in a.items()]      <span class="co"># loop through contents</span>
d = a.get(<span class="st">'yellow'</span>, <span class="st">'no translation found'</span>)  <span class="co"># return default</span>
a.setdefault(<span class="st">'extra'</span>, []).append(<span class="st">'cyan'</span>)     <span class="co"># init key with default</span>
a.update({<span class="st">'green'</span>: <span class="st">'vert'</span>, <span class="st">'brown'</span>: <span class="st">'brun'</span>}) <span class="co"># update dictionary by data from another one</span>
a.keys()                                     <span class="co"># get list of keys</span>
a.values()                                   <span class="co"># get list of values</span>
a.items()                                    <span class="co"># get list of key-value pairs</span>
<span class="kw">del</span> a[<span class="st">'red'</span>]                                 <span class="co"># delete key and associated with it value</span>
a.pop(<span class="st">'blue'</span>)                                <span class="co"># remove specified key and return the corresponding value</span></code></pre>
</div>
<div class="subgroup">
<h3 id="sets">Sets</h3>
<pre class="sourceCode python"><code class="sourceCode python">a = {<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>}                                <span class="co"># initialize manually</span>
b = <span class="dt">set</span>(<span class="dt">range</span>(<span class="dv">5</span>))                            <span class="co"># initialize from iteratable</span>
a.add(<span class="dv">13</span>)                                    <span class="co"># add new element to set</span>
a.discard(<span class="dv">13</span>)                                <span class="co"># discard element from set</span>
a.update([<span class="dv">21</span>, <span class="dv">22</span>, <span class="dv">23</span>])                       <span class="co"># update set with elements from iterable</span>
a.pop()                                      <span class="co"># remove and return an arbitrary set element</span>
<span class="dv">2</span> in {<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>}                               <span class="co"># true if 2 in set</span>
<span class="dv">5</span> not in {<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>}                           <span class="co"># true if 5 not in set</span>
a.issubset(b)                                <span class="co"># test whether every element in a is in b</span>
a &lt;= b                                       <span class="co"># issubset in operator form</span>
a.issuperset(b)                              <span class="co"># test whether every element in b is in a</span>
a &gt;= b                                       <span class="co"># issuperset in operator form</span>
a.intersection(b)                            <span class="co"># return the intersection of two sets as a new set</span>
a.difference(b)                              <span class="co"># return the difference of two or more sets as a new set</span>
a - b                                        <span class="co"># difference in operator form</span>
a.symmetric_difference(b)                    <span class="co"># return the symmetric difference of two sets as a new set</span>
a.union(b)                                   <span class="co"># return the union of sets as a new set</span>
c = <span class="dt">frozenset</span>()                              <span class="co"># the same as set but immutable</span></code></pre>
</div>
<div class="subgroup">
<h3 id="strings">Strings</h3>
<pre class="sourceCode python"><code class="sourceCode python">a = <span class="st">'red'</span>                      <span class="co"># assignment</span>
char = a[<span class="dv">2</span>]                    <span class="co"># access individual characters</span>
<span class="st">'red '</span> + <span class="st">'blue'</span>                <span class="co"># string concatenation</span>
<span class="st">'1, 2, three'</span>.split(<span class="st">','</span>)       <span class="co"># split string into list</span>
<span class="st">'.'</span>.join([<span class="st">'1'</span>, <span class="st">'2'</span>, <span class="st">'three'</span>])  <span class="co"># concatenate list into string</span></code></pre>
</div>
<div class="subgroup">
<h3 id="operators">Operators</h3>
<pre class="sourceCode python"><code class="sourceCode python">a = <span class="dv">2</span>             <span class="co"># assignment</span>
a += <span class="dv">1</span> (*=, /=)   <span class="co"># change and assign</span>
<span class="dv">3</span> + <span class="dv">2</span>             <span class="co"># addition</span>
<span class="dv">3</span> / <span class="dv">2</span>             <span class="co"># integer (python2) or float (python3) division</span>
<span class="dv">3</span> // <span class="dv">2</span>            <span class="co"># integer division</span>
<span class="dv">3</span> * <span class="dv">2</span>             <span class="co"># multiplication</span>
<span class="dv">3</span> ** <span class="dv">2</span>            <span class="co"># exponent</span>
<span class="dv">3</span> % <span class="dv">2</span>             <span class="co"># remainder</span>
<span class="dt">abs</span>(a)            <span class="co"># absolute value</span>
<span class="dv">1</span> == <span class="dv">1</span>            <span class="co"># equal</span>
<span class="dv">2</span> &gt; <span class="dv">1</span>             <span class="co"># larger</span>
<span class="dv">2</span> &lt; <span class="dv">1</span>             <span class="co"># smaller</span>
<span class="dv">1</span> != <span class="dv">2</span>            <span class="co"># not equal</span>
<span class="dv">1</span> != <span class="dv">2</span> and <span class="dv">2</span> &lt; <span class="dv">3</span>  <span class="co"># logical AND</span>
<span class="dv">1</span> != <span class="dv">2</span> or <span class="dv">2</span> &lt; <span class="dv">3</span>   <span class="co"># logical OR</span>
not <span class="dv">1</span> == <span class="dv">2</span>        <span class="co"># logical NOT</span>
<span class="st">'a'</span> in b          <span class="co"># test if a is in b</span>
a is b            <span class="co"># test if objects point to the same memory (id)</span></code></pre>
</div>
<div class="subgroup">
<h3 id="control-flow">Control Flow</h3>
<pre class="sourceCode python"><code class="sourceCode python"><span class="co"># if/elif/else</span>
a, b = <span class="dv">1</span>, <span class="dv">2</span>
<span class="kw">if</span> a + b == <span class="dv">3</span>:
    <span class="kw">print</span>(<span class="st">'True'</span>)
<span class="kw">elif</span> a + b == <span class="dv">1</span>:
    <span class="kw">print</span>(<span class="st">'False'</span>)
<span class="kw">else</span>:
    <span class="kw">print</span>(<span class="st">'?'</span>)

<span class="co"># for</span>
a = [<span class="st">'red'</span>, <span class="st">'blue'</span>, <span class="st">'green'</span>]
<span class="kw">for</span> color in a:
    <span class="kw">print</span>(color)

<span class="co"># while</span>
number = <span class="dv">1</span>
<span class="kw">while</span> number &lt; <span class="dv">10</span>:
    <span class="kw">print</span>(number)
    number += <span class="dv">1</span>

<span class="co"># break</span>
number = <span class="dv">1</span>
<span class="kw">while</span> <span class="ot">True</span>:
    <span class="kw">print</span>(number)
    number += <span class="dv">1</span>
    <span class="kw">if</span> number &gt; <span class="dv">10</span>:
        <span class="kw">break</span>

<span class="co"># continue</span>
<span class="kw">for</span> i in <span class="dt">range</span>(<span class="dv">20</span>):
    <span class="kw">if</span> i % <span class="dv">2</span> == <span class="dv">0</span>:
        <span class="kw">continue</span>
    <span class="kw">print</span>(i)</code></pre>
</div>
<div class="subgroup">
<h3 id="functions-classes-generators-decorators">Functions, Classes, Generators, Decorators</h3>
<pre class="sourceCode python"><code class="sourceCode python"><span class="co"># Function groups code statements and possibly</span>
<span class="co"># returns a derived value</span>
<span class="kw">def</span> myfunc(a1, a2):
    <span class="kw">return</span> a1 + a2

x = myfunc(a1, a2)

<span class="co"># Class groups attributes (data)</span>
<span class="co"># and associated methods (functions)</span>
<span class="kw">class</span> Point(<span class="dt">object</span>):
    <span class="kw">def</span> <span class="ot">__init__</span>(<span class="ot">self</span>, x):
        <span class="ot">self</span>.x = x
    <span class="kw">def</span> <span class="ot">__call__</span>(<span class="ot">self</span>):
        <span class="kw">print</span>(<span class="ot">self</span>.x)

x = Point(<span class="dv">3</span>)

<span class="co"># Generator iterates without</span>
<span class="co"># creating all values at once</span>
<span class="kw">def</span> firstn(n):
    num = <span class="dv">0</span>
    <span class="kw">while</span> num &lt; n:
        <span class="kw">yield</span> num
        num += <span class="dv">1</span>

x = [i <span class="kw">for</span> i in firstn(<span class="dv">10</span>)]

<span class="co"># Decorator can be used to modify</span>
<span class="co"># the behaviour of a function</span>
<span class="kw">class</span> myDecorator(<span class="dt">object</span>):
    <span class="kw">def</span> <span class="ot">__init__</span>(<span class="ot">self</span>, f):
        <span class="ot">self</span>.f = f
    <span class="kw">def</span> <span class="ot">__call__</span>(<span class="ot">self</span>):
        <span class="kw">print</span>(<span class="st">"call"</span>)
        <span class="ot">self</span>.f()

<span class="ot">@myDecorator</span>
<span class="kw">def</span> my_funct():
    <span class="kw">print</span>(<span class="st">'func'</span>)

my_funct()</code></pre>
</div>
</div>

<h2 id="ipython">IPython</h2>
<div class="group">
<div class="subgroup">
<h3 id="console">console</h3>
<pre class="sourceCode python"><code class="sourceCode python">&lt;<span class="dt">object</span>&gt;?                   <span class="co"># Information about the object</span>
&lt;<span class="dt">object</span>&gt;.&lt;TAB&gt;              <span class="co"># tab completion</span>

<span class="co"># run scripts / profile / debug</span>
%run myscript.py

%timeit <span class="dt">range</span>(<span class="dv">1000</span>)         <span class="co"># measure runtime of statement</span>
%run -t  myscript.py        <span class="co"># measure script execution time</span>

%prun &lt;statement&gt;           <span class="co"># run statement with profiler</span>
%prun -s &lt;key&gt; &lt;statement&gt;  <span class="co"># sort by key, e.g. "cumulative" or "calls"</span>
%run -p  myfile.py          <span class="co"># profile script</span>

%run -d myscript.py         <span class="co"># run script in debug mode</span>
%debug                      <span class="co"># jumps to the debugger after an exception</span>
%pdb                        <span class="co"># run debugger automatically on exception</span>

<span class="co"># examine history</span>
%history
%history ~<span class="dv">1</span>/<span class="dv">1-5</span>  <span class="co"># lines 1-5 of last session</span>

<span class="co"># run shell commands</span>
!make  <span class="co"># prefix command with "!"</span>

<span class="co"># clean namespace</span>
%reset

<span class="co"># run code from clipboard</span>
%paste</code></pre>
</div>
<div class="subgroup">
<h3 id="debugger">debugger</h3>
<pre class="sourceCode python"><code class="sourceCode python">n               <span class="co"># execute next line</span>
b <span class="dv">42</span>            <span class="co"># set breakpoint in the main file at line 42</span>
b myfile.py:<span class="dv">42</span>  <span class="co"># set breakpoint in 'myfile.py' at line 42</span>
c               <span class="co"># continue execution</span>
l               <span class="co"># show current position in the code</span>
p data          <span class="co"># print the 'data' variable</span>
pp data         <span class="co"># pretty print the 'data' variable</span>
s               <span class="co"># step into subroutine</span>
a               <span class="co"># print arguments that a function received</span>
pp <span class="dt">locals</span>()     <span class="co"># show all variables in local scope</span>
pp <span class="dt">globals</span>()    <span class="co"># show all variables in global scope</span></code></pre>
</div>
<div class="subgroup">
<h3 id="command-line">command line</h3>
<pre class="sourceCode bash"><code class="sourceCode bash">ipython --pdb -- myscript.py argument1 --option1  <span class="co"># debug after exception</span>
ipython -i -- myscript.py argument1 --option1     <span class="co"># console after finish</span></code></pre>
</div>
</div>

<h2 id="numpy-import-numpy-as-np">NumPy (<code>import numpy as np</code>)</h2>
<div class="group">
<div class="subgroup">
<h3 id="array-initialization">array initialization</h3>
<pre class="sourceCode python"><code class="sourceCode python">np.array([<span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>])             <span class="co"># direct initialization</span>
np.empty(<span class="dv">20</span>, dtype=np.float32)  <span class="co"># single precision array of size 20</span>
np.zeros(<span class="dv">200</span>)                   <span class="co"># initialize 200 zeros</span>
np.ones((<span class="dv">3</span>,<span class="dv">3</span>), dtype=np.int32)  <span class="co"># 3 x 3 integer matrix with ones</span>
np.eye(<span class="dv">200</span>)                     <span class="co"># ones on the diagonal</span>
np.zeros_like(a)                <span class="co"># array with zeros and the shape of a</span>
np.linspace(<span class="dv">0</span>., <span class="dv">10</span>., <span class="dv">100</span>)       <span class="co"># 100 points from 0 to 10</span>
np.arange(<span class="dv">0</span>, <span class="dv">100</span>, <span class="dv">2</span>)            <span class="co"># points from 0 to &lt;100 with step 2</span>
np.logspace(-<span class="dv">5</span>, <span class="dv">2</span>, <span class="dv">100</span>)         <span class="co"># 100 log-spaced from 1e-5 -&gt; 1e2</span>
np.copy(a)                      <span class="co"># copy array to new memory</span></code></pre>
</div>
<div class="subgroup">
<h3 id="indexing">indexing</h3>
<pre class="sourceCode python"><code class="sourceCode python">a = np.arange(<span class="dv">100</span>)          <span class="co"># initialization with 0 - 99</span>
a[:<span class="dv">3</span>] = <span class="dv">0</span>                   <span class="co"># set the first three indices to zero</span>
a[<span class="dv">2</span>:<span class="dv">5</span>] = <span class="dv">1</span>                  <span class="co"># set indices 2-4 to 1</span>
a[:-<span class="dv">3</span>] = <span class="dv">2</span>                  <span class="co"># set all but last three elements to 2</span>
a[start:stop:step]          <span class="co"># general form of indexing/slicing</span>
a[<span class="ot">None</span>, :]                  <span class="co"># transform to column vector</span>
a[[<span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">8</span>]]             <span class="co"># return array with values of the indices</span>
a = a.reshape(<span class="dv">10</span>, <span class="dv">10</span>)       <span class="co"># transform to 10 x 10 matrix</span>
a.T                         <span class="co"># return transposed view</span>
b = np.transpose(a, (<span class="dv">1</span>, <span class="dv">0</span>)) <span class="co"># transpose array to new axis order</span>
a[a &lt; <span class="dv">2</span>]                    <span class="co"># values with elementwise condition</span></code></pre>
</div>
<div class="subgroup">
<h3 id="array-properties-and-operations">array properties and operations</h3>
<pre class="sourceCode python"><code class="sourceCode python">a.shape                <span class="co"># a tuple with the lengths of each axis</span>
<span class="dt">len</span>(a)                 <span class="co"># length of axis 0</span>
a.ndim                 <span class="co"># number of dimensions (axes)</span>
a.sort(axis=<span class="dv">1</span>)         <span class="co"># sort array along axis</span>
a.flatten()            <span class="co"># collapse array to one dimension</span>
a.conj()               <span class="co"># return complex conjugate</span>
a.astype(np.int16)     <span class="co"># cast to integer</span>
a.tolist()             <span class="co"># convert (possibly multidimensional) array to list</span>
np.argmax(a, axis=<span class="dv">1</span>)   <span class="co"># return index of maximum along a given axis</span>
np.cumsum(a)           <span class="co"># return cumulative sum</span>
np.<span class="dt">any</span>(a)              <span class="co"># True if any element is True</span>
np.<span class="dt">all</span>(a)              <span class="co"># True if all elements are True</span>
np.argsort(a, axis=<span class="dv">1</span>)  <span class="co"># return sorted index array along axis</span>
np.where(cond)         <span class="co"># return indices where cond is True</span>
np.where(cond, x, y)   <span class="co"># return elements from x or y depending on cond</span></code></pre>
</div>
<div class="subgroup">
<h3 id="boolean-arrays">boolean arrays</h3>
<pre class="sourceCode python"><code class="sourceCode python">a &lt; <span class="dv">2</span>                         <span class="co"># returns array with boolean values</span>
(a &lt; <span class="dv">2</span>) &amp; (b &gt; <span class="dv">10</span>)            <span class="co"># elementwise logical and</span>
(a &lt; <span class="dv">2</span>) | (b &gt; <span class="dv">10</span>)            <span class="co"># elementwise logical or</span>
~a                            <span class="co"># invert boolean array</span></code></pre>
</div>
<div class="subgroup">
<h3 id="elementwise-operations-and-math-functions">elementwise operations and math functions</h3>
<pre class="sourceCode python"><code class="sourceCode python">a * <span class="dv">5</span>              <span class="co"># multiplication with scalar</span>
a + <span class="dv">5</span>              <span class="co"># addition with scalar</span>
a + b              <span class="co"># addition with array b</span>
a / b              <span class="co"># division with b (np.NaN for division by zero)</span>
np.exp(a)          <span class="co"># exponential (complex and real)</span>
np.power(a, b)     <span class="co"># a to the power b</span>
np.sin(a)          <span class="co"># sine</span>
np.cos(a)          <span class="co"># cosine</span>
np.arctan2(a, b)   <span class="co"># arctan(a/b)</span>
np.arcsin(a)       <span class="co"># arcsin</span>
np.radians(a)      <span class="co"># degrees to radians</span>
np.degrees(a)      <span class="co"># radians to degrees</span>
np.var(a)          <span class="co"># variance of array</span>
np.std(a, axis=<span class="dv">1</span>)  <span class="co"># standard deviation</span></code></pre>
</div>
<div class="subgroup">
<h3 id="inner-outer-products">inner/ outer products</h3>
<pre class="sourceCode python"><code class="sourceCode python">np.dot(a, b)                  <span class="co"># inner product: a_mi b_in</span>
np.einsum(<span class="st">'ij,kj-&gt;ik'</span>, a, b)  <span class="co"># einstein summation convention</span>
np.<span class="dt">sum</span>(a, axis=<span class="dv">1</span>)             <span class="co"># sum over axis 1</span>
np.<span class="dt">abs</span>(a)                     <span class="co"># return absolute values</span>
a[<span class="ot">None</span>, :] + b[:, <span class="ot">None</span>]       <span class="co"># outer sum</span>
a[<span class="ot">None</span>, :] * b[:, <span class="ot">None</span>]       <span class="co"># outer product</span>
np.outer(a, b)                <span class="co"># outer product</span>
np.<span class="dt">sum</span>(a * a.T)               <span class="co"># matrix norm</span></code></pre>
</div>
<div class="subgroup">
<h3 id="linear-algebra-matrix-math">linear algebra/ matrix math</h3>
<pre class="sourceCode python"><code class="sourceCode python">evals, evecs = np.linalg.eig(a)      <span class="co"># Find eigenvalues and eigenvectors</span>
evals, evecs = np.linalg.eigh(a)     <span class="co"># np.linalg.eig for hermitian matrix</span></code></pre>
</div>
<div class="subgroup">
<h3 id="reading-writing-files">reading/ writing files</h3>
<pre class="sourceCode python"><code class="sourceCode python">
np.loadtxt(fname/fobject, skiprows=<span class="dv">2</span>, delimiter=<span class="st">','</span>)   <span class="co"># ascii data from file</span>
np.savetxt(fname/fobject, array, fmt=<span class="st">'</span><span class="ot">%.5f</span><span class="st">'</span>)           <span class="co"># write ascii data</span>
np.fromfile(fname/fobject, dtype=np.float32, count=<span class="dv">5</span>)  <span class="co"># binary data from file</span>
np.tofile(fname/fobject)                               <span class="co"># write (C) binary data</span>
np.save(fname/fobject, array)                          <span class="co"># save as numpy binary (.npy)</span>
np.load(fname/fobject, mmap_mode=<span class="st">'c'</span>)                  <span class="co"># load .npy file (memory mapped)</span></code></pre>
</div>
<div class="subgroup">
<h3 id="interpolation-integration-optimization">interpolation, integration, optimization</h3>
<pre class="sourceCode python"><code class="sourceCode python">np.trapz(a, x=x, axis=<span class="dv">1</span>)  <span class="co"># integrate along axis 1</span>
np.interp(x, xp, yp)      <span class="co"># interpolate function xp, yp at points x</span>
np.linalg.lstsq(a, b)     <span class="co"># solve a x = b in least square sense</span></code></pre>
</div>
<div class="subgroup">
<h3 id="fft">fft</h3>
<pre class="sourceCode python"><code class="sourceCode python">np.fft.fft(a)                <span class="co"># complex fourier transform of a</span>
f = np.fft.fftfreq(<span class="dt">len</span>(a))   <span class="co"># fft frequencies</span>
np.fft.fftshift(f)           <span class="co"># shifts zero frequency to the middle</span>
np.fft.rfft(a)               <span class="co"># real fourier transform of a</span>
np.fft.rfftfreq(<span class="dt">len</span>(a))      <span class="co"># real fft frequencies</span></code></pre>
</div>
<div class="subgroup">
<h3 id="rounding">rounding</h3>
<pre class="sourceCode python"><code class="sourceCode python">np.ceil(a)   <span class="co"># rounds to nearest upper int</span>
np.floor(a)  <span class="co"># rounds to nearest lower int</span>
np.<span class="dt">round</span>(a)  <span class="co"># rounds to neares int</span></code></pre>
</div>
<div class="subgroup">
<h3 id="random-variables">random variables</h3>
<pre class="sourceCode python"><code class="sourceCode python"><span class="ch">from</span> np.random <span class="ch">import</span> normal, seed, rand, uniform, randint
normal(loc=<span class="dv">0</span>, scale=<span class="dv">2</span>, size=<span class="dv">100</span>)  <span class="co"># 100 normal distributed</span>
seed(<span class="dv">23032</span>)                       <span class="co"># resets the seed value</span>
rand(<span class="dv">200</span>)                         <span class="co"># 200 random numbers in [0, 1)</span>
uniform(<span class="dv">1</span>, <span class="dv">30</span>, <span class="dv">200</span>)               <span class="co"># 200 random numbers in [1, 30)</span>
randint(<span class="dv">1</span>, <span class="dv">16</span>, <span class="dv">300</span>)               <span class="co"># 300 random integers in [1, 16)</span></code></pre>
</div>
</div>

<h2 id="matplotlib-import-matplotlib.pyplot-as-plt">Matplotlib (<code>import matplotlib.pyplot as plt</code>)</h2>
<div class="group">
<div class="subgroup">
<h3 id="figures-and-axes">figures and axes</h3>
<pre class="sourceCode python"><code class="sourceCode python">fig = plt.figure(figsize=(<span class="dv">5</span>, <span class="dv">2</span>))  <span class="co"># initialize figure</span>
fig.savefig(<span class="st">'out.png'</span>)            <span class="co"># save png image</span>
fig, axes = plt.subplots(<span class="dv">5</span>, <span class="dv">2</span>, figsize=(<span class="dv">5</span>, <span class="dv">5</span>)) <span class="co"># fig and 5 x 2 nparray of axes</span>
ax = fig.add_subplot(<span class="dv">3</span>, <span class="dv">2</span>, <span class="dv">2</span>)     <span class="co"># add second subplot in a 3 x 2 grid</span>
ax = plt.subplot2grid((<span class="dv">2</span>, <span class="dv">2</span>), (<span class="dv">0</span>, <span class="dv">0</span>), colspan=<span class="dv">2</span>)  <span class="co"># multi column/row axis</span>
ax = fig.add_axes([left, bottom, width, height])  <span class="co"># add custom axis</span></code></pre>
</div>
<div class="subgroup">
<h3 id="figures-and-axes-properties">figures and axes properties</h3>
<pre class="sourceCode python"><code class="sourceCode python">fig.suptitle(<span class="st">'title'</span>)            <span class="co"># big figure title</span>
fig.subplots_adjust(bottom=<span class="fl">0.1</span>, right=<span class="fl">0.8</span>, top=<span class="fl">0.9</span>, wspace=<span class="fl">0.2</span>,
                    hspace=<span class="fl">0.5</span>)  <span class="co"># adjust subplot positions</span>
fig.tight_layout(pad=<span class="fl">0.1</span>, h_pad=<span class="fl">0.5</span>, w_pad=<span class="fl">0.5</span>,
                 rect=<span class="ot">None</span>)      <span class="co"># adjust subplots to fit into fig</span>
ax.set_xlabel(<span class="st">'xbla'</span>)            <span class="co"># set xlabel</span>
ax.set_ylabel(<span class="st">'ybla'</span>)            <span class="co"># set ylabel</span>
ax.set_xlim(<span class="dv">1</span>, <span class="dv">2</span>)                <span class="co"># sets x limits</span>
ax.set_ylim(<span class="dv">3</span>, <span class="dv">4</span>)                <span class="co"># sets y limits</span>
ax.set_title(<span class="st">'blabla'</span>)           <span class="co"># sets the axis title</span>
ax.<span class="dt">set</span>(xlabel=<span class="st">'bla'</span>)             <span class="co"># set multiple parameters at once</span>
ax.legend(loc=<span class="st">'upper center'</span>)    <span class="co"># activate legend</span>
ax.grid(<span class="ot">True</span>, which=<span class="st">'both'</span>)      <span class="co"># activate grid</span>
bbox = ax.get_position()         <span class="co"># returns the axes bounding box</span>
bbox.x0 + bbox.width             <span class="co"># bounding box parameters</span></code></pre>
</div>
<div class="subgroup">
<h3 id="plotting-routines">plotting routines</h3>
<pre class="sourceCode python"><code class="sourceCode python">ax.plot(x,y, <span class="st">'-o'</span>, c=<span class="st">'red'</span>, lw=<span class="dv">2</span>, label=<span class="st">'bla'</span>)  <span class="co"># plots a line</span>
ax.scatter(x,y, s=<span class="dv">20</span>, c=color)                  <span class="co"># scatter plot</span>
ax.pcolormesh(xx, yy, zz, shading=<span class="st">'gouraud'</span>)    <span class="co"># fast colormesh</span>
ax.colormesh(xx, yy, zz, norm=norm)             <span class="co"># slower colormesh</span>
ax.contour(xx, yy, zz, cmap=<span class="st">'jet'</span>)              <span class="co"># contour lines</span>
ax.contourf(xx, yy, zz, vmin=<span class="dv">2</span>, vmax=<span class="dv">4</span>)         <span class="co"># filled contours</span>
n, bins, patch = ax.hist(x, <span class="dv">50</span>)                 <span class="co"># histogram</span>
ax.imshow(matrix, origin=<span class="st">'lower'</span>,
          extent=(x1, x2, y1, y2))              <span class="co"># show image</span>
ax.specgram(y, FS=<span class="fl">0.1</span>, noverlap=<span class="dv">128</span>,
            scale=<span class="st">'linear'</span>)                     <span class="co"># plot a spectrogram</span>
ax.text(x, y, string, fontsize=<span class="dv">12</span>, color=<span class="st">'m'</span>)   <span class="co"># write text</span></code></pre>
</div>
</div>

<h2 id="scipy-import-scipy-as-sci">Scipy (<code>import scipy as sci</code>)</h2>
<div class="group">
<div class="subgroup">
<h3 id="interpolation">interpolation</h3>
<pre class="sourceCode python"><code class="sourceCode python"><span class="co"># interpolate data at index positions:</span>
<span class="ch">from</span> scipy.ndimage <span class="ch">import</span> map_coordinates
pts_new = map_coordinates(data, float_indices, order=<span class="dv">3</span>)

<span class="co"># simple 1d interpolator with axis argument:</span>
<span class="ch">from</span> scipy.interpolate <span class="ch">import</span> interp1d
interpolator = interp1d(x, y, axis=<span class="dv">2</span>, fill_value=<span class="dv">0</span>., bounds_error=<span class="ot">False</span>)
y_new = interpolator(x_new)</code></pre>
</div>
<div class="subgroup">
<h3 id="integration">Integration</h3>
<pre class="sourceCode python"><code class="sourceCode python"><span class="ch">from</span> scipy.integrate <span class="ch">import</span> quad     <span class="co"># definite integral of python</span>
value = quad(func, low_lim, up_lim)  <span class="co"># function/method</span></code></pre>
</div>
<div class="subgroup">
<h3 id="linear-algebra">linear algebra</h3>
<pre class="sourceCode python"><code class="sourceCode python"><span class="ch">from</span> scipy <span class="ch">import</span> linalg
evals, evecs = linalg.eig(a)      <span class="co"># Find eigenvalues and eigenvectors</span>
evals, evecs = linalg.eigh(a)     <span class="co"># linalg.eig for hermitian matrix</span>
b = linalg.expm(a)                <span class="co"># Matrix exponential</span>
c = linalg.logm(a)                <span class="co"># Matrix logarithm</span></code></pre>
</div>
</div>

<h2 id="pandas-import-pandas-as-pd">Pandas (<code>import pandas as pd</code>)</h2>
<div class="group">
<div class="subgroup">
<h3 id="data-structures">Data structures</h3>
<pre class="sourceCode python"><code class="sourceCode python">s = pd.Series(np.random.rand(<span class="dv">1000</span>), index=<span class="dt">range</span>(<span class="dv">1000</span>))  <span class="co"># series</span>
index = pd.date_range(<span class="st">"13/06/2016"</span>, periods=<span class="dv">1000</span>)       <span class="co"># time index</span>
df = pd.DataFrame(np.zeros((<span class="dv">1000</span>, <span class="dv">3</span>)), index=index,
                    columns=[<span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span>])            <span class="co"># DataFrame</span></code></pre>
</div>
<div class="subgroup">
<h3 id="dataframe">DataFrame</h3>
<pre class="sourceCode python"><code class="sourceCode python">df = pd.read_csv(<span class="st">"filename.csv"</span>)   <span class="co"># read and load CSV file in a DataFrame</span>
<span class="kw">print</span>(df[:<span class="dv">2</span>])                      <span class="co"># print first 2 lines of the DataFrame</span>
raw = df.values                    <span class="co"># get raw data out of DataFrame object</span>
cols = df.columns                  <span class="co"># get list of columns headers</span></code></pre>

</div></div>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/IPGP/scientific_python_cheat_sheet">Scientific python cheat sheet</a> is maintained by <a href="https://github.com/IPGP">IPGP</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>
  </body>
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-48685483-3', 'auto');
  ga('send', 'pageview');

</script>
</html>


